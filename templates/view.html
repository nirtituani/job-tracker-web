{% extends "base.html" %}

{% block title %}View Application - Job Tracker{% endblock %}

{% block content %}
<div class="card">
    <div class="card-header">
        <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 1rem;">
            <span>ğŸ‘ï¸ Application Details</span>
            <span class="app-status 
                {% if application.status == 'Applied' %}status-applied
                {% elif application.status == 'Phone Screen' or 'Interview' in application.status %}status-interview
                {% elif application.status == 'Offer Received' %}status-offer
                {% elif application.status == 'Rejected' %}status-rejected
                {% else %}status-applied{% endif %}">
                {{ application.status }}
            </span>
        </div>
    </div>
    
    <div style="line-height: 2;">
        <p><strong>Company:</strong> {{ application.company_name }}</p>
        <p><strong>Job Title:</strong> {{ application.job_title }}</p>
        
        {% if application.location %}
        <p><strong>Location:</strong> ğŸ“ {{ application.location }}</p>
        {% endif %}
        
        <p><strong>Date Applied:</strong> ğŸ“… {{ application.date_applied }}</p>
        
        {% if application.salary_range %}
        <p><strong>Salary Range:</strong> ğŸ’° {{ application.salary_range }}</p>
        {% endif %}
        
        {% if application.job_match %}
        <p><strong>Job Match:</strong> 
            <span class="stars" style="color: #FFC107;">
                {% for i in range(application.job_match) %}â­{% endfor %}
            </span>
            ({{ application.job_match }}/5)
        </p>
        {% endif %}
        
        {% if application.job_link %}
        <p><strong>Job Link:</strong> <a href="{{ application.job_link }}" target="_blank" style="color: var(--primary-color);">ğŸ”— View Job Posting</a></p>
        {% endif %}
        
        {% if application.contact_person %}
        <p><strong>Contact Person:</strong> ğŸ‘¤ {{ application.contact_person }}</p>
        {% endif %}
        
        {% if application.contact_email %}
        <p><strong>Contact Email:</strong> ğŸ“§ <a href="mailto:{{ application.contact_email }}" style="color: var(--primary-color);">{{ application.contact_email }}</a></p>
        {% endif %}
        
        {% if application.notes %}
        <div style="margin-top: 1rem; padding: 1rem; background: #f9f9f9; border-radius: 5px;">
            <strong>Notes:</strong>
            <p style="margin-top: 0.5rem; white-space: pre-wrap;">{{ application.notes }}</p>
        </div>
        {% endif %}
        
        <p style="font-size: 0.9rem; color: #999; margin-top: 1rem;"><strong>Last Updated:</strong> {{ application.last_updated }}</p>
    </div>
    
    <div class="btn-group mt-2">
        <a href="{{ url_for('edit_application', id=application.id) }}" class="btn btn-success">âœï¸ Edit</a>
        <a href="{{ url_for('delete_application', id=application.id) }}" 
           class="btn btn-danger"
           onclick="return confirm('Are you sure you want to delete this application?')">ğŸ—‘ï¸ Delete</a>
        <a href="{{ url_for('index') }}" class="btn btn-secondary">â—€ï¸ Back to List</a>
    </div>
</div>
{% endblock %}
